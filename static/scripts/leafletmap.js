//-- leaflet map script --//basemap selection toolbar cont.var layerESRI = L.esri.basemapLayer('Topographic');var layerLabels;//basemap selection toolbar cont.function setBasemap(basemap) {    if (layerESRI) {        map.removeLayer(layerESRI);    }    layerESRI = L.esri.basemapLayer(basemap);    map.addLayer(layerESRI);    if (layerLabels) {        map.removeLayer(layerLabels);    }    if (basemap === 'ShadedRelief' || basemap === 'Imagery' || basemap === 'Terrain') {        layerLabels = L.esri.basemapLayer(basemap + 'Labels');        map.addLayer(layerLabels);    }}//basemap selection toolbar cont.function changeBasemap(basemaps) {    var basemap = basemaps.value;    setBasemap(basemap);}//style HUC 8 polygonfunction getColor(d) {    return d > 110   ? '#084594' :           d > 86   ? '#2171b5' :           d > 63   ? '#4292c6' :           d > 41   ? '#6baed6' :           d > 20   ? '#9ecae1' :           d > -1   ? '#c6dbef' :                      'red';}//style HUC 8 polygon cont.function hucStyle(feature) {    return {        fillColor: getColor(feature.properties.NumbSpc),        weight: .5,        opacity: 0.9,        color: 'white',        fillOpacity: 0.5    };}//style selected HUC 8 polygonfunction selectHUCs(hucs){    resetHUCLayer();    //  properties of highlighted HUC    huc8Layer.eachLayer(function (layer) {        if (hucs == layer.feature.properties.HUC_CODE)            layer.setStyle({ color: 'black', weight: 2.5, fillColor: '#02bfe7', fillOpacity: 0.6 });        if (hucs == layer.feature.properties.HUC_CODE)            layer.bringToFront();        });}//get fish json data for selected HUCfunction getHUCFishData(hucs){    var url = "http://127.0.0.1:5000/fishhucs/" + hucs;    $.ajax({        type:"GET",        url: url,        dataType: "json",        success: function(data, status, jqXHR) {            initDT(fish_by_huc_columns, data);            return data;        },        error: function(jqXHR, status) {            return null;        }    })}//get fish json data for selected HUCfunction resetHUCLayer(){    huc8Layer.eachLayer(function (layer) {        huc8Layer.resetStyle(layer);    });}//Setup on click method for each huc8 featurefunction onEachFeature(feature, layer) {    layer.on('click', function (e) {        selectHUCs(feature.properties.HUC_CODE);        var data = getHUCFishData(feature.properties.HUC_CODE);        //initDT(fish_by_huc_columns, data);        //alert(e.latlng.toString());    });}//L.control.layers(huc8Layer).addTo(map);//L.control.layers(streamNetwork).addTo(map);//var overlayStream = {"Stream Network":streamNetwork};//var overlayHUC8 = {"Stream Network":huc8Layer};//var controlStreamNetwork = L.control.layers(overlayStream, overlayHUC8).addTo(map);//var controlHUC8 = L.control.layers(huc8Layer).addTo(map);//var layerHUC8Control = L.control.layers(huc8Layer).addTo(map);